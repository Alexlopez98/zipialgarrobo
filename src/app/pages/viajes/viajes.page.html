<ion-content class="ion-padding viajes-page">

  <!-- Header con bot√≥n de regreso y logo -->
  <div class="header-container">
    <ion-buttons slot="start">
      <ion-back-button default-href="/home" icon="arrow-back-outline"></ion-back-button>
    </ion-buttons>
    <img src="assets/icon/logo.png" alt="Zipi Algarrobo" class="logo" />
  </div>

  <h2 class="titulo">MIS VIAJES</h2>

  <!-- Contenedor de viajes -->
  <div class="viajes-container">
    <div class="viaje-item" *ngFor="let viaje of viajes">
      <p><strong>{{ viaje.destino }}</strong></p>
      <p>Conductor: {{ viaje.conductor }}</p>
      <p>Duraci√≥n: {{ viaje.duracion }}</p>
      <p>{{ viaje.costo }}</p>

      <!-- Sistema de estrellas -->
      <div class="calificacion-box">
        <div class="stars">
          <ion-icon
            *ngFor="let star of [1, 2, 3, 4, 5]"
            [name]="star <= viaje.calificacion ? 'star' : 'star-outline'"
            [class.active]="star <= viaje.calificacion"
            (click)="calificar(viaje, star)">
          </ion-icon>
        </div>

        <div *ngIf="viaje.calificado" class="resultado">
          Tu calificaci√≥n: ‚≠ê {{ viaje.calificacion }}/5
        </div>
      </div>
    </div>
  </div>

  <!-- Bot√≥n de limpiar -->
  <ion-button expand="block" class="btn-limpiar" (click)="limpiarHistorial()">
    LIMPIAR HISTORIAL
  </ion-button>

  <!-- Animaci√≥n al calificar -->
  <div class="rating-animation" *ngIf="mostrarAnimacion">
    <ng-lottie
      [options]="animacionEstrellas"
      width="200"
      height="200">
    </ng-lottie>
    <h3>¬°Gracias por tu calificaci√≥n! üåü</h3>
  </div>

</ion-content>
